<li class="nav-item dropdown">
    <a href="#" data-bs-toggle="dropdown" class="nav-icon pe-md-0">
        <img src="~/images/account.png" class="avatar img-fluid" alt="">
    </a>
    <div class="dropdown-menu dropdown-menu-end rounded" style="width: 180px;">
        <div class="d-flex">
            <a class="ms-2 cusor" data-bs-toggle="modal" data-bs-target="#doimk">Đổi mật khẩu</a>
        </div>
        <div class="d-flex">
            <a class="ms-2 cusor" style="color: red;">Đăng xuất</a>
        </div>
    </div>
</li>

<!-- Modal doi mk -->
<div class="modal fade" id="doimk" tabindex="-1" aria-labelledby="moimk" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content" style="border-radius: 20px;">
            <div class="modal-header d-flex justify-content-center">
                <div>
                    <h5 style="font-weight: bolder;">Đổi mật khẩu</h5>
                </div>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="modalContent">
                <div class="container px-5">
                    <div class="row">
                        <div class="col-12">
                            <label for="fullname" class="ms-1 mb-1 label-modal">Mật khẩu hiện tại</label>
                            <input type="password" class="form-control" id="mkHienTai" placeholder=""
                                   required>
                            <span id="mkHienTaiError" class="error text-danger"></span>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12">
                            <label for="cccd" class="ms-1 mb-1 label-modal">Mật khẩu mới</label>
                            <input class="form-control" type="password" id="mkMoi" placeholder="" required>
                            <span id="mkMoiError" type="password" class="error text-danger"></span>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12">
                            <label for="address" class="ms-1 mb-1 label-modal">Nhập lại mật khẩu mới</label>
                            <input type="text" class="form-control" id="mkMoi1" placeholder="" required>
                            <span id="mkMoi1Error" class="error text-danger"></span>
                        </div>
                    </div>
                </div>
            </div>
            <!-- footer -->
            <div class="container my-2">
                <div class="row" style="justify-content: flex-end;">
                    <div class="col-3 m-2 d-flex justify-content-end" style="width: 200px;">
                        <button type="button" class="btn btn-warning" id="doimatkhau"
                                style="font-size: medium; color: white;">
                            Đổi mật khẩu
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Thêm JavaScript để khởi tạo lại dropdown và modal -->
<script>
    document.querySelector('.dropdown-toggle').addEventListener('click', function (e) {
    alert("drop đã hiện");

    // Tìm dropdown-menu bên trong phần tử dropdown-toggle
    const dropdownMenu = this.nextElementSibling;

    // Kiểm tra aria-expanded hiện tại (true hoặc false)
    const expanded = this.getAttribute('aria-expanded') === 'true';

    // Chuyển trạng thái aria-expanded
    this.setAttribute('aria-expanded', !expanded);
    
    // Hiển thị hoặc ẩn dropdown menu
    dropdownMenu.classList.toggle('show', !expanded);
});

</script>